
<!DOCTYPE HTML>
<html>
<head>

    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/hammerjs/2.0.8/hammer.min.js"></script>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>

<canvas id="board">

</canvas>
<script>
    let coordinate = {x: 0, y: 0};
    window.addEventListener('load', () => {
        resize(); // Resizes the canvas once the window loads
        document.addEventListener('mousedown', start);
        document.addEventListener('mouseup', stop);
        /*window.addEventListener("mousemove", (e) => {
            if (e.shiftKey)
                paint(e, "black", 50)
            else
                paint(e)
        });*/
        var mc = new Hammer(document.getElementById('board'));
        mc.on("hammer.input", (e) => {
            if (e.srcEvent.shiftKey) {
                paint(e, "black", 50)
            } else {
                paint(e)
            }
        });
        //window.addEventListener('resize', resize);
    })
    const board = document.getElementById("board");
    const ctx = board.getContext("2d");
    const resize = () => {
        ctx.canvas.width = window.innerWidth;
        ctx.canvas.height = window.innerHeight;
    }
    let draw = false;
    position = (e) => {
        console.log("Start Draw!!", e.center.x ?? 0, e.center.y);

        coordinate.x = e.center.x;
        coordinate.y = e.center.y;
    }
    start = (e) => {
        draw = true;
        position(e);
    }
    stop = () => {
        draw = false;
    }
    paint = (e, color = "white", width = 3) => {
        if (!draw) return;
        ctx.beginPath();
        //console.log("Start Draw!!", e.center.x, e.center.y);

        ctx.lineWidth = width;

        // Sets the end of the lines drawn
        // to a round shape.
        ctx.lineCap = 'round';

        ctx.strokeStyle = color;

        // The cursor to start drawing
        // moves to this coordinate.
        ctx.moveTo(coordinate.x, coordinate.y);

        // The position of the cursor
        // gets updated as we move the
        // mouse around.
        position(e);

        // A line is traced from start
        // coordinate to this coordinate
        ctx.lineTo(e.center.x , coordinate.y);

        // Draws the line.
        ctx.stroke();

    }
</script>
</body>
</html>